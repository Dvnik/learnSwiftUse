# ç¬¬ 5 ç«  äº†è§£æ»¾å‹•è¦–åœ–èˆ‡å»ºç«‹è¼ªæ’­ UI

Class: ç²¾é€šSwiftUI
Created: December 7, 2022 9:07 AM
Reviewed: No
Type: SwiftUI4

ç•¶ç„¶ï¼Œåœ¨èƒ½å¤ ç†Ÿç·´ SwiftUI çš„é‹ç”¨ä¹‹å‰ï¼Œéœ€è¦è¨±å¤šçš„ç·´ç¿’æ‰è¡Œã€‚

æœ¬ç« çµ¦äºˆçš„æŒ‘æˆ°æ˜¯ï¼šå»ºç«‹ä¸€å€‹å¡ç‰‡è¦–åœ–ï¼ˆcard view ï¼‰ã€‚

<aside>
ğŸ’¡ é€™æ¦‚å¿µå’Œç¬¬4ç« çš„ã€Œåƒ¹æ ¼æ–¹æ¡ˆã€é¡ä¼¼ï¼Œåšä¸€å€‹å°å€å¡Šé‡è¤‡åˆ©ç”¨ã€‚å› ç‚ºSwiftUIå’ŒUIKitçš„è£½ä½œæ–¹å¼ä¸ä¸€æ¨£ï¼ŒSwiftUIå¯ä»¥é‡è¤‡åˆ©ç”¨UIçš„æ¨¡æ¿ï¼Œå› æ­¤å¡ç‰‡è¦–åœ–æœƒæ˜¯è »å¸¸é‹ç”¨çš„æƒ³æ³•ä¹‹ä¸€ã€‚

</aside>

ç•¶å®Œæˆå¡ç‰‡è¦–åœ–çš„å»ºç«‹ä¹‹å¾Œï¼Œæ‰æœƒè¨è«–Â `ScrollView`ï¼Œä¸¦ä½¿ç”¨å¡ç‰‡è¦–åœ–å»ºç«‹ä¸€å€‹å¯æ»¾å‹•çš„ä»‹é¢

# ****å»ºç«‹ä¸€å€‹å¡ç‰‡å¼ UI****

1.å»ºç«‹ä¸€å€‹SwiftUIçš„ç©ºå°ˆæ¡ˆ(é è¨­åç¨±ï¼š`SwiftUIScrollView`)

2.å»ºç«‹æ–°æª”æ¡ˆï¼Œåœ¨ã€ŒUser Interfaceã€å€å¡Šï¼Œé¸å–ã€ŒSwiftUI Viewã€æ¨¡æ¿ï¼Œç„¶å¾Œé»é¸ã€ŒNextã€ä¾†å»ºç«‹æª”æ¡ˆã€‚å°‡æª”æ¡ˆåç¨±å‘½åç‚ºÂ `CardView`ï¼Œä¸¦å°‡å…¶å„²å­˜åœ¨å°ˆæ¡ˆè³‡æ–™å¤¾ä¸­ã€‚

3.å»ºç«‹å¥½çš„`CardView`æœƒå’Œ`ContentView.swift`é¡ä¼¼ï¼Œä¹Ÿæœ‰ç›¸åŒçš„é è¦½ç•«é¢ã€‚

## ****æº–å‚™åœ–ç‰‡æª”****

å¡ç‰‡è¦–åœ–çš„èƒŒæ™¯ï¼ŒAppcodaæœ‰æº–å‚™ä¸€å¥—ã€‚ä¸€èˆ¬ä¾†èªªæ‡‰è©²æ˜¯è‡ªå·±æ‰¾ä¾†æº–å‚™æ‰æœ‰ç·´ç¿’æ„Ÿï¼Œå¤§éƒ¨åˆ†æ‡‰è©²æ˜¯å‰å¹¾ç« æåˆ°çš„*unsplash.com*å»æ‰¾å¹¾å¼µã€‚

## ****å¯¦ä½œå¡ç‰‡è¦–åœ–****

<aside>
ğŸ’¡ é€™å€‹å¡ç‰‡è¦–åœ–æ˜¯ç”±å…©å€‹éƒ¨åˆ†çµ„æˆï¼Œ è¦–åœ–ä¸Šéƒ¨æ˜¯åœ–ç‰‡ï¼Œè€Œè¦–åœ–ä¸‹éƒ¨æ˜¯æ–‡å­—æ•˜è¿°ã€‚

</aside>

1.å¾åœ–ç‰‡é–‹å§‹ï¼š

```swift
struct CardView: View {
    var body: some View {
        Image("swiftui-button")
            .resizable()
            .aspectRatio(contentMode: .fit)
    }
}
```

ä½¿åœ–ç‰‡å¯èª¿æ•´å¤§å°ï¼Œä»¥ç¸®æ”¾ä¾†å¡«æ»¿è¢å¹•ï¼ŒåŒæ™‚ä¿æŒé•·å¯¬æ¯”ã€‚

2.å¯¦ä½œæ–‡å­—æ•˜è¿°éƒ¨åˆ†ï¼š

```swift
VStack(alignment: .leading) {
    Text("SwiftUI")
        .font(.headline)
        .foregroundColor(.secondary)
    Text("Drawing a Border with Rounded Corners")
        .font(.title)
        .fontWeight(.black)
        .foregroundColor(.primary)
        .lineLimit(3)
    Text("Written by Simon Ng".uppercased())
        .font(.caption)
        .foregroundColor(.secondary)
}
```

æ•˜è¿°ä¸­å¯¦éš›ä¸Šæœ‰ä¸‰å€‹å‚ç›´æ’åˆ—çš„æ–‡å­—è¦–åœ–ï¼Œå› æ­¤æˆ‘å€‘ä½¿ç”¨ä¸€å€‹Â `VStack`Â ä¾†åµŒå…¥å®ƒå€‘ã€‚`VStack`ï¼ŒæŒ‡å®šå°é½Šæ–¹å¼ç‚ºÂ `.leading`ã€‚é€™äº›æ–‡å­—çš„ä¿®é£¾å™¨çš†åœ¨æœ‰é—œÂ `Text`Â ç‰©ä»¶çš„ç« ç¯€è¨è«–éã€‚

é—œæ–¼`foregroundColor`å¯ä»¥æŒ‡å®šæ¨™æº–é¡è‰²ï¼Œåƒæ˜¯Â `.black`Â èˆ‡Â `.purple`ï¼Œä½† iOS æä¾›ä¸€å¥—ç³»çµ±é¡è‰²ï¼Œå…¶ä¸­åŒ…å«ä¸»è‰²ï¼ˆ primary color ï¼‰ã€è¼”è‰²ï¼ˆ secondary color ï¼‰ã€ç¬¬ä¸‰ç´šè‰²ï¼ˆ tertiary color ï¼‰ç­‰è®ŠåŒ–ï¼Œé€éä½¿ç”¨æ­¤é¡è‰²è®ŠåŒ–ï¼Œä½ çš„ App å¯ä»¥è¼•é¬†æ”¯æ´æ·ºè‰²æ¨¡å¼èˆ‡æ·±è‰²æ¨¡å¼ã€‚èˆ‰ä¾‹è€Œè¨€ï¼Œæ–‡å­—è¦–åœ–çš„ä¸»è‰²é è¨­è¨­å®šç‚ºæ·ºè‰²æ¨¡å¼çš„é»‘è‰²ã€‚ç•¶ App åˆ‡æ›åˆ°æ·±è‰²æ¨¡å¼ï¼Œ ä¸»è‰²å°‡è¢«èª¿æ•´ç‚ºç™½è‰²ï¼Œé€™æ˜¯ç”± iOS è‡ªå‹•èª¿æ•´ï¼Œå› æ­¤ä½ ç„¡é ˆå¦å¤–ç·¨å¯«å¯«æ”¯æ´æ·±è‰²æ¨¡å¼çš„ç¨‹å¼ç¢¼ï¼Œæˆ‘å€‘å°‡åœ¨å¾Œé¢çš„ç« ç¯€ä¸­æ·±å…¥æ¢è¨æ·±è‰²æ¨¡å¼ã€‚

ç‚ºäº†å°‡åœ–ç‰‡èˆ‡é€™äº›æ–‡å­—è¦–åœ–å‚ç›´æ’åˆ—ï¼Œæˆ‘å€‘ä½¿ç”¨Â `VStack`Â ä¾†åµŒå…¥å®ƒå€‘ã€‚

<aside>
ğŸ’¡ å¦‚æœä¸å°‡å…©å€‹å€å¡Šç”¨VStackåµŒå…¥ï¼ŒSwfitUIæœƒèªç‚ºæ˜¯å…©å€‹ä¸ç›¸å¹²çš„åœ–ç¤ºï¼Œé è¦½ä¸Šå°±æœƒæœ‰å…©å€‹ç¨ç«‹çš„é è¦½ç•«é¢å‘ˆç¾UIçš„ä½ˆå±€ã€‚

</aside>

3.èª¿æ•´ä½ˆå±€ï¼Œæ–‡å­—å¾€å·¦æ¨å°é½Šåœ–ç‰‡é‚Šç·£ã€åŠ ä¸Šé–“è·ã€ä½¿ç”¨Â `overlay`Â ä¿®é£¾å™¨ï¼Œä¸¦ä½¿ç”¨`RoundedRectangle`ä¾†ç•«å‡ºé‚Šæ¡†ã€‚

```swift
struct CardView: View {
    var body: some View {
        VStack {
            Image("swiftui-button")
                .resizable()
                .aspectRatio(contentMode: .fit)

            HStack {
                VStack(alignment: .leading) {
                    Text("SwiftUI")
                        .font(.headline)
                        .foregroundColor(.secondary)
                    Text("Drawing a Border with Rounded Corners")
                        .font(.title)
                        .fontWeight(.black)
                        .foregroundColor(.primary)
                        .lineLimit(3)
                    Text("Written by Simon Ng".uppercased())
                        .font(.caption)
                        .foregroundColor(.secondary)
                }

                Spacer()

            }
            .padding()
        }
        .cornerRadius(10)
        .overlay(
            RoundedRectangle(cornerRadius: 10)
                .stroke(Color(.sRGB, red: 150/255, green: 150/255, blue: 150/255, opacity: 0.1), lineWidth: 1)
        )
        .padding([.top, .horizontal])
    }
}
```

## ****è®“å¡ç‰‡è¦–åœ–æ›´å…·å½ˆæ€§****

é€™éšæ®µå°±æ˜¯è®“å›ºå®šå…§å®¹å‘ˆç¾è¦–åœ–è½‰ç‚ºå½ˆæ€§ä½¿ç”¨çš„å¸¶å…¥è®Šæ•¸å½¢å¼ã€‚ç•¶ç„¶å¦‚æœä¸€é–‹å§‹å°±çŸ¥é“è‡ªå·±è¦å¹¹ä»€éº¼å¯ä»¥çœç•¥ä¸Šé¢é‚£ä¸€æ•´æ®µï¼Œä¸éå€‹äººè¦ºå¾—é€™ç¨®ç¥äººæ‡‰è©²å±¬å¯¦å°‘æ•¸ï¼Œå¤§å¤šæ•¸äººæ‡‰è©²é‚„æ˜¯æœƒå…ˆç¢ºå®šè‡ªå·±å»ºç«‹å€‹ä»€éº¼æ±è¥¿å‡ºä¾†ï¼Œæ‰æœƒé–‹å§‹é€æ­¥çš„é‡æ§‹æˆèƒ½å¤ å½ˆæ€§ä½¿ç”¨çš„ç•«é¢ã€‚

é¦–å…ˆï¼Œåœ¨Â `CardView`Â å®£å‘Š imageã€categoryã€heading èˆ‡author é€™äº›è®Šæ•¸ï¼š

```swift
var image: String
var category: String
var heading: String
var author: String
```

æ¥ä¸‹ä¾†ï¼Œå°‡Â `Image`Â èˆ‡Â `Text`Â è¦–åœ–çš„å€¼ä»¥ä¸‹åˆ—è®Šæ•¸æ›¿ä»£ï¼š

```swift
VStack {
    Image(image)
        .resizable()
        .aspectRatio(contentMode: .fit)

    HStack {
        VStack(alignment: .leading) {
            Text(category)
                .font(.headline)
                .foregroundColor(.secondary)
            Text(heading)
                .font(.title)
                .fontWeight(.black)
                .foregroundColor(.primary)
                .lineLimit(3)
            Text("Written by \(author)".uppercased())
                .font(.caption)
                .foregroundColor(.secondary)
        }

        Spacer()
    }
    .padding()
}
```

æ›´æ”¹å®Œæˆå¾Œï¼Œä½ å°‡åœ¨Â `CardView_Previews`Â çµæ§‹ä¸­çœ‹åˆ°ä¸€å€‹éŒ¯èª¤ã€‚é€™æ˜¯å› ç‚ºåœ¨Â `CardView`Â å°å…¥äº†ä¸€äº›è®Šæ•¸ï¼Œç•¶ä½¿ç”¨å®ƒæ™‚ï¼Œå¿…é ˆæŒ‡å®šåƒæ•¸çµ¦å®ƒã€‚ä»¥ä¸‹åˆ—ç¨‹å¼ç¢¼ä¾†å–ä»£ï¼š

```swift
struct CardView_Previews: PreviewProvider {
    static var previews: some View {
        CardView(image: "swiftui-button", category: "SwiftUI", heading: "Drawing a Border with Rounded Corners", author: "Simon Ng")
    }
}
```

# ****ScrollView çš„ä»‹ç´¹****

åˆ‡æ›åˆ°Â `ContentView.swift`Â ï¼Œæ–¼ body å…§æ’å…¥ä»¥ä¸‹çš„ç¨‹å¼ï¼š

```swift
VStack {
    CardView(image: "swiftui-button", category: "SwiftUI", heading: "Drawing a Border with Rounded Corners", author: "Simon Ng")
    CardView(image: "macos-programming", category: "macOS", heading: "Building a Simple Editing App", author: "Gabriel Theodoropoulos")
    CardView(image: "flutter-app", category: "Flutter", heading: "Building a Complex Layout with Flutter", author: "Lawrence Tan")
    CardView(image: "natural-language-api", category: "iOS", heading: "What's New in Natural Language API", author: "Sai Kambampati")
}
```

é€™äº›å¡ç‰‡è¦–åœ–å°‡è¢«æ“ å£“ï¼Œä»¥å¡«æ»¿è¢å¹•ï¼Œå› ç‚ºÂ `VStack`Â æ˜¯ä¸å¯æ»¾å‹•çš„ã€‚`ScrollView`ä¾¿æ˜¯ç‚ºæ­¤è€Œç”Ÿï¼Œå°‡`VStack`æ›¿æ›æˆ`ScrollView`å³å¯æ­£å¸¸å±•ç¤ºå¡ç‰‡è¦–åœ–ã€‚ä¸éAPPçš„å‘ˆç¾é‚„æ˜¯éœ€è¦æœ‰æ¨™é¡Œç­‰æ¨£å¼ï¼Œæ‰€ä»¥æ‡‰è©²æ˜¯åœ¨VStackç”¨Enbedä¸€å€‹Stackï¼Œå†å°‡è©²Stackæ”¹æˆScrollViewï¼š

```swift
ScrollView {
    VStack {
        CardView(image: "swiftui-button", category: "SwiftUI", heading: "Drawing a Border with Rounded Corners", author: "Simon Ng")
        CardView(image: "macos-programming", category: "macOS", heading: "Building a Simple Editing App", author: "Gabriel Theodoropoulos")
        CardView(image: "flutter-app", category: "Flutter", heading: "Building a Complex Layout with Flutter", author: "Lawrence Tan")
        CardView(image: "natural-language-api", category: "iOS", heading: "What's New in Natural Language API", author: "Sai Kambampati")
    }
}
.padding()
```

## ****ä½¿ç”¨æ°´å¹³ ScrollView å»ºç«‹è¼ªæ’­å¼ UI****

é è¨­çš„ScrollViewä»¥å‚ç›´æ–¹å‘æ»¾å‹•å…§å®¹ã€‚å¦å¤–ï¼Œå®ƒé‚„æ”¯æ´æ°´å¹³æ–¹å‘çš„å¯æ»¾å‹•å…§å®¹ã€‚

æ›´æ–°Â `ContentView`Â å¦‚ä¸‹ï¼š

```swift
struct ContentView: View {
    var body: some View {

        ScrollView(.horizontal) {

            // è‡ªå®šç¾©æ¨™é¡Œ

            HStack {
                CardView(image: "swiftui-button", category: "SwiftUI", heading: "Drawing a Border with Rounded Corners", author: "Simon Ng")
                    .frame(width: 300)
                CardView(image: "macos-programming", category: "macOS", heading: "Building a Simple Editing App", author: "Gabriel Theodoropoulos")
                    .frame(width: 300)
                CardView(image: "flutter-app", category: "Flutter", heading: "Building a Complex Layout with Flutter", author: "Lawrence Tan")
                    .frame(width: 300)
                CardView(image: "natural-language-api", category: "iOS", heading: "What's New in Natural Language API", author: "Sai Kambampati")
                    .frame(width: 300)
            }
        }

    }
}
```

ä¸Šè¿°æƒ…æ³åšäº†ä¸‰å€‹è®Šæ›´ï¼š

1. æˆ‘å€‘å‚³é€ä¸€å€‹Â `.horizontal`Â å€¼ï¼Œä»¥åœ¨Â `ScrollView`Â ä¸­ä½¿ç”¨ä¸€å€‹æ°´å¹³æ»¾å‹•è¦–åœ–ã€‚
2. ç”±æ–¼æˆ‘å€‘ä½¿ç”¨ä¸€å€‹æ°´å¹³æ»¾å‹•è¦–åœ–ï¼Œå› æ­¤æˆ‘å€‘é‚„éœ€è¦å°‡å †ç–Šè¦–åœ–å¾Â `VStack`Â è®Šæ›´ç‚ºÂ `HStack`ã€‚
3. å°æ–¼æ¯å€‹å¡ç‰‡è¦–åœ–ï¼Œæˆ‘å€‘å°‡æ¡†æ¶çš„å¯¬åº¦è¨­å®šç‚ºã€Œ300é»ã€ã€‚é€™æ˜¯å¿…è¦çš„ï¼Œå› ç‚ºè¦é¡¯ç¤ºçš„åœ–ç‰‡å¤ªå¯¬

è®Šæ›´ç¨‹å¼ç¢¼ä¹‹å¾Œï¼Œä½ å°‡çœ‹åˆ°å¡ç‰‡è¦–åœ–ä»¥æ°´å¹³æ’åˆ—ä¸”å¯ä»¥æ»¾å‹•

## ****éš±è—æ»¾å‹•æŒ‡ç¤ºå™¨****

åœ¨æ»¾å‹•è¦–åœ–æ™‚ï¼Œè¢å¹•åº•éƒ¨é™„è¿‘æœ‰ä¸€å€‹æ»¾å‹•æŒ‡ç¤ºå™¨ã€‚é€™å€‹æŒ‡ç¤ºå™¨é è¨­æ˜¯é¡¯ç¤ºçš„ã€‚å¦‚æœä½ æƒ³è¦éš±è—å®ƒï¼Œä½ å¯ä»¥å°‡Â `ScrollView`Â çš„ç¨‹å¼ç¢¼è®Šæ›´å¦‚ä¸‹ï¼š

```swift
ScrollView(.horizontal, showsIndicators: false)
```

é€éæŒ‡å®šÂ `showIndicators`Â ç‚ºÂ `false`ï¼ŒiOS å°‡ä¸å†é¡¯ç¤ºè©²æŒ‡ç¤ºå™¨ã€‚

## ****ç¾¤çµ„è¦–åœ–å…§å®¹****

ä¸Šé¢çš„CardViewæ¯ä¸€å€‹è¨­å®šå¯¬åº¦ç‚º300é»ï¼Œé€™æ¨£åšé‚„æœ‰èƒ½å¤ ç°¡åŒ–çš„æ–¹å¼ï¼Œè®“éœ€è¦çµ±ä¸€è¦æ ¼çš„è¦–åœ–ä¸€æ¬¡æ€§åœ°å®Œæˆä½ˆå±€ã€‚

SwiftUI æ¡†æ¶æä¾›äº†é–‹ç™¼è€…ç¾¤çµ„è¦–åœ–ï¼ˆ`GroupÂ view`ï¼‰çš„åŠŸèƒ½ï¼Œå¯ä»¥å°‡ç›¸é—œå…§å®¹ç¾¤çµ„èµ·ä¾†ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œä½ å¯ä»¥å°‡ä¿®é£¾å™¨åŠ è‡³ç¾¤çµ„ï¼Œæ‰€æœ‰åµŒå…¥ç¾¤çµ„å…§çš„è¦–åœ–çš†èƒ½å¤ åŒæ­¥åšç”¢ç”Ÿæ•ˆæœã€‚

èˆ‰ä¾‹è€Œè¨€ï¼Œä½ å¯ä»¥å°‡Â `HStack`Â å…§çš„ç¨‹å¼é‡å¯«å¦‚ä¸‹ä¾†å®ŒæˆåŒæ¨£çš„çµæœï¼š

```swift
HStack {
    Group {
        CardView(image: "swiftui-button", category: "SwiftUI", heading: "Drawing a Border with Rounded Corners", author: "Simon Ng")
        CardView(image: "macos-programming", category: "macOS", heading: "Building a Simple Editing App", author: "Gabriel Theodoropoulos")
        CardView(image: "flutter-app", category: "Flutter", heading: "Building a Complex Layout with Flutter", author: "Lawrence Tan")
        CardView(image: "natural-language-api", category: "iOS", heading: "What's New in Natural Language API", author: "Sai Kambampati")
    }
    .frame(width: 300)
}
```

## ****è‡ªå‹•èª¿æ•´æ–‡å­—****

ç¬¬ä¸€å¼µå¡ç‰‡çš„æ¨™é¡Œè¢«æˆªæ–·äº†ï¼Œè©²å¦‚ä½•ä¿®æ­£é€™å€‹å•é¡Œå‘¢ï¼Ÿ SwiftUI ä¸­å¯ä»¥ä½¿ç”¨Â `.minimumScaleFactor`
Â ä¿®é£¾å™¨ä¾†è‡ªå‹•ç¸®å°æ–‡å­—ã€‚ä½ å¯ä»¥åˆ‡æ›è‡³ CardView.swiftï¼Œä¸¦æ–¼Â `Textï¼ˆæ¨™é¡Œï¼‰`
åŠ ä¸Šä»¥ä¸‹é€™å€‹ä¿®é£¾å™¨ï¼š

```swift
.minimumScaleFactor(0.5)
```

SwiftUI æœƒè‡ªå‹•ç¸®å°æ–‡å­—ä¾†ç›¸å®¹å¯ç”¨çš„ç©ºé–“ã€‚é€™é‚Šçš„å€¼è¨­å®šäº†è¦–åœ–æ‰€å…è¨±çš„æœ€å°ç¸®æ”¾é‡ã€‚ä»¥é€™å€‹ä¾‹å­ä¾†çœ‹ï¼ŒSwiftUI èƒ½å¤ å°‡æ–‡å­—ç›¡é‡ç¸®è‡³åŸä¾†å¤§å°çš„ 50%ã€‚

# çµèª

é—œæ–¼ScrollViewçš„éƒ¨åˆ†å…¶å¯¦å¾ˆçŸ­ï¼Œå› ç‚ºé€™åŠŸèƒ½å°±å¦‚åŒåç¨±ä¸€æ¨£çš„é€™éº¼ç°¡å–®ã€‚æ‰€ä»¥å’Œè‡ªå®šç¾©è¦–åœ–(Carousel UI)ç¶åœ¨ä¸€èµ·è¬›ã€‚

å¦å¤–SwiftUIçš„å¥½è™•ä¹Ÿåœ¨é€™è£¡é¡¯ç¾ï¼Œæˆ‘åªè¦å¼„å¥½å°æ‡‰çš„è¦–åœ–UIï¼Œé€™å€‹ç¨‹å¼ç¢¼å°±å¯ä»¥è¼•é¬†åœ°è½‰åˆ°ä¸‹ä¸€å€‹Projectä¸Šç›´æ¥ä½¿ç”¨ï¼Œä¸ç”¨åƒUIKitåœ¨importä»¥å¾Œé‚„è¦æ“”å¿ƒViewControlleræ²’æœ‰è·Ÿè‘—é€²ä¾†çš„è©±UIæ˜¯å¦å°±ç„¡æ³•å‘ˆç¾ã€‚

é€™ç« ç¯€çš„ä½œæ¥­å°±æ˜¯ã€Œå¼„å‡ºæ¨™é¡Œã€ï¼Œå› ç‚ºæ˜¯æ¨™é¡Œä¸èƒ½å¤ å—åˆ°ScrollViewçš„å½±éŸ¿ã€‚